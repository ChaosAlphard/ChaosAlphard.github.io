---
title: 通过禁用内存修整来提高虚拟机性能
date: 2018-07-05 21:14:34
tags: [VMWare]
categories: [小技巧]
---

# 通过禁用内存修整来提高虚拟机性能
## vmem
<span style="font-size:20px">
　　VMware在运行每个虚拟机的时候会在硬盘上为相应的虚拟机生成一个内存实时镜像 .vmem 文件用于存储虚拟机内存的改变，这个文件主要是将虚拟机内存的内容映射到磁盘，以支持在虚拟机的暂停等功能。  
　　同时，VMware会在使用的时候统计内存中的数据的使用情况，然后将不常用的一些内存数据存入 .vmem 文件从而节省内存的使用。  
　　但是内存交换带来的大量读写操作会导致性能下降。
</span>

<!-- more -->

## 解决方案
关闭虚拟机

点击 虚拟机->设置->选项->高级->勾选“禁用内存页面修整”选项。

找到*.vmx虚拟机定义文件

在最后一行加入
```
mainMem.useNamedFile = "FALSE"
```

完成

<span style="font-size:22px">需要注意的是，在添加这段代码后虚拟机的暂停、快速启动等操作会受到影响</span>